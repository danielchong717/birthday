<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Happy Birthday!</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0f1020;
      --accent: #ff6ec7;
      --accent2: #6ef3ff;
      --accent3: #ffd66e;
      --text: #ffffff;
      --card: #181a2f;
    }

    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      background: radial-gradient(1200px 800px at 20% 0%, #151739 0%, var(--bg) 60%);
      color: var(--text);
      font-family: 'Montserrat', system-ui, -apple-system, sans-serif;
      overflow: hidden;
    }

    /* Starry background */
    .stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
      background:
        radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.9), transparent 2px),
        radial-gradient(1px 1px at 80% 10%, rgba(255,255,255,.8), transparent 2px),
        radial-gradient(1px 1px at 30% 70%, rgba(255,255,255,.8), transparent 2px),
        radial-gradient(1px 1px at 60% 40%, rgba(255,255,255,.7), transparent 2px);
      animation: twinkle 3.5s linear infinite;
      opacity: .6;
    }
    @keyframes twinkle {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }

    /* Center stage */
    .stage {
      position: relative;
      width: 100%;
      height: 100%;
      display: grid;
      place-items: center;
      padding: 24px;
    }

    /* Card */
    .card {
      position: relative;
      background: linear-gradient(180deg, #1c1f3e, var(--card));
      border-radius: 20px;
      box-shadow:
        0 20px 40px rgba(0,0,0,.35),
        inset 0 1px 0 rgba(255,255,255,.06);
      padding: 32px 28px 40px;
      max-width: 720px;
      width: min(92vw, 720px);
      overflow: hidden;
    }

    /* Heading typewriter animation */
    .title {
      font-family: 'Baloo 2', cursive;
      font-size: clamp(2.2rem, 5vw, 3.6rem);
      line-height: 1.1;
      letter-spacing: 1px;
      margin: 0 0 8px;
      background: linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      white-space: nowrap;
      overflow: hidden;
      border-right: 3px solid rgba(255,255,255,.6);
      animation: type 3.5s steps(26) 0.5s forwards, caret 650ms steps(1) infinite;
    }
    @keyframes type {
      from { width: 0; }
      to   { width: 100%; }
    }
    @keyframes caret {
      50% { border-color: transparent; }
    }

    .subtitle {
      margin: 6px 0 18px;
      color: #cdd6f4;
      font-size: clamp(1rem, 2.2vw, 1.15rem);
    }

    /* Balloons */
    .balloons {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }
    .balloon {
      position: absolute;
      bottom: -120px;
      width: 36px;
      height: 48px;
      border-radius: 50% 50% 45% 45%;
      transform: translateX(0) translateY(0);
      box-shadow: inset -6px -10px 20px rgba(0,0,0,.25);
      animation: floatUp var(--dur) linear infinite, sway 6s ease-in-out infinite;
    }
    .balloon::after {
      content: '';
      position: absolute;
      bottom: -22px;
      left: 50%;
      width: 2px;
      height: 22px;
      background: rgba(255,255,255,.4);
      transform: translateX(-50%);
    }

    @keyframes floatUp {
      0% { transform: translateY(0); opacity: 0; }
      5% { opacity: 1; }
      100% { transform: translateY(-110vh); opacity: 0.8; }
    }
    @keyframes sway {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(18px); }
    }

    /* Cake */
    .cake {
      position: relative;
      margin: 24px auto 10px;
      width: 220px;
      height: 140px;
    }
    .plate {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 260px;
      height: 18px;
      background: linear-gradient(180deg, #e6e6e6, #bfbfbf);
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,.35);
    }
    .layer {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 220px;
      background: linear-gradient(180deg, #ff9ac1, #ff6ec7);
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(0,0,0,.25);
    }
    .layer.bottom { height: 60px; bottom: 18px; }
    .layer.top    { height: 50px; bottom: 78px; }
    .icing {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 128px;
      width: 230px;
      height: 20px;
      background: linear-gradient(180deg, #fff, #f7f7f7);
      border-radius: 0 0 12px 12px;
      clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 92% 80%, 84% 100%, 76% 78%, 68% 100%, 60% 80%, 52% 100%, 44% 78%, 36% 100%, 28% 80%, 20% 100%, 12% 80%, 4% 100%, 0% 80%);
    }

    /* Candle + flame */
    .candle {
      position: absolute;
      left: 50%;
      bottom: 130px;
      transform: translateX(-50%);
      width: 12px;
      height: 40px;
      background: repeating-linear-gradient(180deg, #ffe59e 0 6px, #ffd66e 6px 12px);
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,.2);
    }
    .flame {
      position: absolute;
      left: 50%;
      bottom: 172px;
      transform: translateX(-50%);
      width: 18px;
      height: 28px;
      background: radial-gradient(ellipse at 50% 60%, #fff 0%, #ffd66e 40%, #ff6e6e 70%, rgba(255,255,255,0) 72%);
      border-radius: 50% 50% 45% 45%;
      filter: blur(0.3px);
      animation: flicker 120ms ease-in-out infinite;
    }
    @keyframes flicker {
      0%   { transform: translateX(-50%) scale(1); opacity: .95; }
      50%  { transform: translateX(calc(-50% + 1px)) scale(1.06); opacity: 1; }
      100% { transform: translateX(-50%) scale(0.98); opacity: .9; }
    }

    /* CTA buttons */
    .actions {
      display: flex;
      gap: 12px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    .btn {
      appearance: none;
      border: none;
      padding: 12px 16px;
      border-radius: 12px;
      font-weight: 700;
      color: #111322;
      background: linear-gradient(180deg, #ffffff, #d8e3ff);
      box-shadow: 0 8px 18px rgba(0,0,0,.25);
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease;
    }
    .btn.primary {
      background: linear-gradient(180deg, #ff6ec7, #ff9ac1);
      color: #1b0e1a;
    }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 12px 22px rgba(0,0,0,.3); }
    .btn:active { transform: translateY(0); box-shadow: 0 6px 14px rgba(0,0,0,.28); }

    /* Confetti canvas covers screen */
    canvas#confetti {
      position: fixed;
      inset: 0;
      pointer-events: none;
    }

    /* Footer note */
    .note {
      margin-top: 10px;
      font-size: .9rem;
      color: #aeb7d9;
    }
  </style>
</head>
<body>
  <div class="stars"></div>
  <canvas id="confetti"></canvas>

  <div class="stage">
    <div class="card">
      <h1 class="title">Happy Birthday ðŸŽ‰</h1>
      <p class="subtitle">Wishing you joy, laughter, and a year full of bright ideas.</p>

      <div class="cake" aria-label="Birthday cake">
        <div class="plate"></div>
        <div class="layer bottom"></div>
        <div class="layer top"></div>
        <div class="icing"></div>
        <div class="candle"></div>
        <div class="flame" aria-hidden="true"></div>
      </div>

      <div class="actions">
        <button class="btn primary" id="celebrateBtn">Release confetti</button>
        <button class="btn" id="fireworksBtn">Launch fireworks</button>
      </div>
      <p class="note">Tip: Click the buttons any time. Balloons float on a loop.</p>

      <!-- Balloons -->
      <div class="balloons" id="balloons"></div>
    </div>
  </div>

  <script>
    // Utility: random within range
    const rand = (min, max) => Math.random() * (max - min) + min;

    // Balloons: create N balloons with varied colors and timings
    (function initBalloons() {
      const container = document.getElementById('balloons');
      const colors = ['#ff6ec7', '#6ef3ff', '#ffd66e', '#a0ff6e', '#c29bff'];
      const count = 16;
      for (let i = 0; i < count; i++) {
        const b = document.createElement('div');
        b.className = 'balloon';
        b.style.left = rand(0, 100) + '%';
        b.style.background = colors[i % colors.length];
        b.style.setProperty('--dur', rand(10, 22) + 's');
        b.style.animationDelay = rand(0, 6) + 's';
        b.style.filter = `hue-rotate(${rand(-25,25)}deg)`;
        container.appendChild(b);
      }
    })();

    // Confetti engine (lightweight): draws rectangles rising and falling
    (function confettiEngine() {
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      let W, H;
      const pieces = [];
      const colors = ['#ff6ec7', '#6ef3ff', '#ffd66e', '#c29bff', '#a0ff6e', '#ffffff'];

      const resize = () => {
        W = canvas.width = window.innerWidth;
        H = canvas.height = window.innerHeight;
      };
      window.addEventListener('resize', resize, { passive: true });
      resize();

      function spawnBurst(x = W / 2, y = H / 3, n = 180) {
        for (let i = 0; i < n; i++) {
          pieces.push({
            x, y,
            vx: rand(-4, 4),
            vy: rand(-8, -2),
            w: rand(2, 5),
            h: rand(6, 14),
            rot: rand(0, Math.PI * 2),
            vr: rand(-0.1, 0.1),
            color: colors[Math.floor(rand(0, colors.length))]
          });
        }
      }

      function step() {
        ctx.clearRect(0, 0, W, H);
        for (let i = pieces.length - 1; i >= 0; i--) {
          const p = pieces[i];
          p.vy += 0.08;      // gravity
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;
          // remove off-screen
          if (p.y > H + 40) { pieces.splice(i, 1); continue; }
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
          ctx.restore();
        }
        requestAnimationFrame(step);
      }
      step();

      // hook button
      document.getElementById('celebrateBtn').addEventListener('click', () => {
        spawnBurst(rand(W * 0.25, W * 0.75), rand(H * 0.15, H * 0.45), 240);
        spawnBurst(rand(W * 0.15, W * 0.85), rand(H * 0.2, H * 0.5), 160);
      });

      // Fireworks: radial particle explosion
      document.getElementById('fireworksBtn').addEventListener('click', () => {
        const cx = rand(W * 0.2, W * 0.8);
        const cy = rand(H * 0.2, H * 0.5);
        const sparks = 140;
        for (let i = 0; i < sparks; i++) {
          const ang = (i / sparks) * Math.PI * 2;
          const spd = rand(2.5, 6);
          pieces.push({
            x: cx, y: cy,
            vx: Math.cos(ang) * spd,
            vy: Math.sin(ang) * spd - 1.2,
            w: rand(2, 4),
            h: rand(2, 4),
            rot: rand(0, Math.PI * 2),
            vr: rand(-0.2, 0.2),
            color: colors[Math.floor(rand(0, colors.length))]
          });
        }
      });
    })();
  </script>
</body>
</html>

